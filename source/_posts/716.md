---
title: DockerUI 容器管理器的安装与使用
tags:
  - 容器
categories:
  - 运维教程
date: 2024-06-11 00:00:00
---

> 

<!-- more -->

## 

前言：
前段时间发了极空间ssh的教程，但是很难保证官方什么时候会对之前的方法进行限制，一但重置了etc下的文件很可能之前创建的用户就失效了，所以本教程给大家带来dockerui的部署方法，通过dockerui，我们可以很方便的创建高权限的docker应用，或者随时将etc目录挂载到我们的容器中，再通过容器终端去修改shadow或者passwd文件，只要一直保留dockerui不删除，则完全没有后顾之忧了。

PS：本教程绿联私有云和群晖同样适用，不过绿联私有云和群晖有更好的选择--portainer，主要是dockerui作者已经不再维护了，但是极空间本身的docker管理器就是portainer魔改的，部署portainer会有冲突，所以本教程才选择使用dockerui。

PS2：dockerui虽然不再维护，但只是作为一个高权限docker部署或者etc目录挂载使用的话已经绰绰有余了。

教程正文：
dockerui部署的方式很简单，直接到ssh后台，将以下命令输入到ssh命令行后回车，除非8999端口号已经被占用的情况下，需要修改下前面的8999为一个未占用的端口号，否则不需要修改任何东西，直接复制粘贴即可。

ps：jonnyan404/docker-ui这个版本是在原版joinsunsoft/docker.ui上修复了初始密码无法修改的问题。

docker run -d --name=dockerui -v /var/run/docker.sock:/var/run/docker.sock -p 8999:8999 jonnyan404/docker-ui 
图片
当命令行中显示类似以下内容时即表示已经部署成功了。

图片
我们到浏览器中使用nasip:8999（这里的端口号如果改过就用改完后的端口号替换下）打开dockerui的前台页面，填入初始密码dockerui/dockerui，点击登录。

图片
登录进入的首页风格我个人非常喜欢，可以看到我们系统，docker的镜像，容器，数据卷等信息。另外初次使用建议点击右上角的设置>修改密码将初始密码给改掉。

图片
容器部署&挂载etc目录演示
容器部署需要先拉取镜像，点击左侧的镜像，再点击拉取镜像，选择仓库，填入镜像名称和标签后再次点击弹框下的拉取镜像即可进行拉取，这里拉取有点不好就是无法像成品nas的docker管理器那样看到详细进度，所以拉取镜像的步骤个人比较建议可以直接通过nas自带的镜像管理器进行拉取就行。

图片
如果使用默认仓库拉取比较慢的话，我们可以点击左侧的仓库>添加仓库添加国内源。

图片
镜像拉取完成后，点击对应镜像上的运行来创建容器，这种方法可以将镜像中的一些默认信息自动带出来，比如有些端口和环境变量的信息。

图片
填入容器name，重启策略可以点击下拉框直接选择，用户可以根据具体的情况填入root或者其他的，也可以不填保持默认，网络模式按照提示信息，根据具体情况填入host，bridge等等，授予完全权限的开关打开就相当于docker cli命令中的--privileged=true，这个开关也是我们部署dockerui的原因之一，因为极空间，绿联云自带的docker容器不支持高权限容器部署。

图片
再往下划，点击端口右侧的+号，可以添加端口映射，左侧的是容器内端口，格式类似于5244/tcp或者5244/udp，右侧为本地端口，直接填入本地没有被占用的端口号即可，下方的容器的卷绑定列表点击右侧的+号可以添加路径映射，这里的左侧是本地的路径，右侧是容器内的路径，我们挂载本地的/etc目录到容器内则在左侧输入/etc，右侧随意映射一个路径，比如/ssh(容器创建时，如果容器本身没有这个目录则会在容器内自动生成这个目录)，最右侧将RW的复选框给勾上，RW即表示读写模式。

图片
再下方的容器内环境变量的+号点击后可以添加对应的环境变量，这个则根据不同的容器来配置即可，配置完后，直接点击右下方的创建&启动。

图片
没什么问题的话，会有一个弹框提示已经创建成功，点击确定跳转到容器管理页面。

图片
找到刚才创建的容器，点击控制台，选择控制台命令方式，点击确定即可进入容器终端控制页面。

图片
我们输入cd /ssh进入刚才挂载的etc对应的容器内的映射路径。下面即可通过ssh教程中同样的方式去修改此路径下的shadow和passwd文件，即可实现用户和密码的修改添加。

图片
最后：
dockerui的功能比我演示的要更加的强大，配置项的自由度也非常的高，本教程主要是为了极空间ssh后担心官方进行封锁的小伙伴，所以也只演示这个相关部分的内容，如果你对这个应用有更多的兴趣，可以后续部署了自己再摸索摸索，有找到好玩的玩法也可以分享给老K哈。